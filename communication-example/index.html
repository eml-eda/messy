
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../timing/">
      
      
        <link rel="next" href="../ipxact/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>SystemC Modules Timing - MESSY</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#write-request" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MESSY" class="md-header__button md-logo" aria-label="MESSY" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MESSY
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SystemC Modules Timing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/eml-eda/messy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    eml-eda/messy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MESSY" class="md-nav__button md-logo" aria-label="MESSY" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MESSY
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eml-eda/messy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    eml-eda/messy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../what-is-messy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What is MESSY
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation and Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-build-docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/hello-world/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hello World
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/periodic-sensor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Periodic Sensor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/read-sensor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Read Sensor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/read-write-multiple-sensors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Read Write Multiple Sensors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/read-write-sensor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Read Write Sensor
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Core Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../codegen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Codegen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../timing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Timing and Communication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    SystemC Modules Timing
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    SystemC Modules Timing
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#write-request" class="md-nav__link">
    <span class="md-ellipsis">
      Write Request
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write Request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core" class="md-nav__link">
    <span class="md-ellipsis">
      Core
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functional-bus" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Bus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensor" class="md-nav__link">
    <span class="md-ellipsis">
      Sensor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functional-bus_1" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Bus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensor-core" class="md-nav__link">
    <span class="md-ellipsis">
      Sensor &amp; Core
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functional-bus-core" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Bus &amp; Core
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read-request" class="md-nav__link">
    <span class="md-ellipsis">
      Read Request
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ipxact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IPXACT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ipxact-parsing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IPXACT Parsing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Building Blocks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Building Blocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functional-bus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Functional Bus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../power-bus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Power Bus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sensors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adapter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adapter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../harvesters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Harvesters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../converters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Converters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lut/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LUT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Utilities and Advanced Topics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Utilities and Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resolution
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Debugging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tracing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tracing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#write-request" class="md-nav__link">
    <span class="md-ellipsis">
      Write Request
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write Request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core" class="md-nav__link">
    <span class="md-ellipsis">
      Core
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functional-bus" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Bus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensor" class="md-nav__link">
    <span class="md-ellipsis">
      Sensor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functional-bus_1" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Bus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensor-core" class="md-nav__link">
    <span class="md-ellipsis">
      Sensor &amp; Core
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functional-bus-core" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Bus &amp; Core
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read-request" class="md-nav__link">
    <span class="md-ellipsis">
      Read Request
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>SystemC Modules Timing</h1>

<p>This file is intended for giving a full example of how the communication between the different modules works. It will mainly focus on the SystemC components. To have more details about the communication of GvSoC with SystemC, please refer to the <a href="../timing/">timing</a> documentation.</p>
<p>The whole system works by means of requests, that can be of two types:</p>
<ul>
<li><strong>Read</strong>: the core wants to read data from a sensor</li>
<li><strong>Write</strong>: the core wants to write data to a sensor</li>
</ul>
<p>When a request is made, the <a href="../core/">core</a> need to set the corrected values to its output signals, to instruct the functional bus how to handle the request. The following code snippet shows how the core handles the request.</p>
<p><div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">Core::handle_req</span><span class="p">(</span><span class="n">MessyRequest</span><span class="w"> </span><span class="o">*</span><span class="n">req</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// ... other code</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">req</span><span class="o">-&gt;</span><span class="n">read_req</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// setting the correct signals to the functional bus for a read request</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// // setting the correct signals to the functional bus for a write request</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// ... other code</span>
<span class="p">}</span>
</code></pre></div>
For all the details on the function <code>handle_req</code> please refer to the <a href="https://github.com/eml-eda/messy/blob/main/messy/codegen/templates/src/core.cpp">core.cpp</a> file.</p>
<p>The middle main component of the system is the <a href="../functional-bus/">functional bus</a>. </p>
<h2 id="write-request">Write Request</h2>
<h3 id="core">Core</h3>
<p>When a write request is made, the <a href="../core/">core</a> sets the following signals:</p>
<ul>
<li><strong>request_address</strong>: is set to the address of the sensor memory that is being accessed</li>
<li><strong>request_data</strong>: is set to the pointer to the data that is being written to the sensor memory</li>
<li><strong>request_size</strong>: is set to the number of bytes that are being written to the sensor memory</li>
<li><strong>functional_bus_flag</strong>: is set to false, to indicate that the request is a write</li>
<li><strong>request_ready</strong>: is set to true, to indicate that the request is ready to be processed by the functional bus</li>
</ul>
<p>Then the <a href="../core/">core</a> stops on a <code>wait()</code> statement, waiting for a change on the <code>request_go</code> signal. A visual representation of the sequence of events of this first part is shown in the following diagram.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant Core
    participant Functional_bus

    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)
    Core-&gt;&gt;Functional_bus: request_address = address
    Core-&gt;&gt;Functional_bus: request_data = data
    Core-&gt;&gt;Functional_bus: request_size = size
    Core-&gt;&gt;Functional_bus: functional_bus_flag = false
    Core-&gt;&gt;Functional_bus: request_ready = true
    Core-&gt;&gt;Core: wait(request_go)</code></pre>
<h3 id="functional-bus">Functional Bus</h3>
<p>The context is then passed to the <a href="../functional-bus/">functional bus</a>, which is waiting on the hilighted <code>wait()</code> statement in the following code.</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">Functional_bus::processing_data</span><span class="p">(){</span>
<span class="w">    </span><span class="c1">// ..... other code</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">){</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">request_ready</span><span class="p">.</span><span class="n">read</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ... other code</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Wait for the next event</span>
<span class="hll"><span class="w">        </span><span class="n">wait</span><span class="p">();</span>
</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">selected_sensor</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">){</span>
<span class="w">            </span><span class="c1">// ... other code</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span><span class="w">    </span>
</code></pre></div>
<p>Since the <code>request_ready</code> signal, which was initially set to false, is now set to true, the <a href="../functional-bus/">functional bus</a> wakes up and starts processing the request. 
The first thing that the <a href="../functional-bus/">functional bus</a> does is to set the <code>request_go</code> signal to 0, to indicate that the request is being processed. Then it continues by setting all the necessary signals to instruct the sensor how to handle the request. Specifically, it sets the following signals:</p>
<ul>
<li><strong>address_out_sensor</strong>: is set to the address of the sensor memory that is being accessed</li>
<li><strong>data_out_sensor</strong>: is set to the pointer to the data that is being written to the sensor memory</li>
<li><strong>size_out_sensor</strong>: is set to the number of bytes that are being written to the sensor memory</li>
<li><strong>flag_out_sensor</strong>: is set to false, to indicate that the request is a write</li>
<li><strong>ready_sensor</strong>: is set to true, to indicate that the sensor can start processing the request</li>
</ul>
<p>After that, the <a href="../functional-bus/">functional bus</a> stops again on the same <code>wait()</code> statement as before, waiting for the sensor to complete the request. </p>
<pre class="mermaid"><code>sequenceDiagram
    participant Core
    participant Functional_bus
    participant Sensor

    Sensor-&gt;&gt;Sensor: wait(ready_sensor)
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)
    Core-&gt;&gt;Functional_bus: request_address = address
    Core-&gt;&gt;Functional_bus: request_data = data
    Core-&gt;&gt;Functional_bus: request_size = size
    Core-&gt;&gt;Functional_bus: functional_bus_flag = false
    Core-&gt;&gt;Functional_bus: request_ready = true
    Core-&gt;&gt;Core: wait(request_go)

    Note over Functional_bus: Functional bus wakes up
    Functional_bus-&gt;&gt;Sensor: address_out_sensor = address
    Functional_bus-&gt;&gt;Sensor: data_out_sensor = data
    Functional_bus-&gt;&gt;Sensor: size_out_sensor = size
    Functional_bus-&gt;&gt;Sensor: flag_out_sensor = false
    Functional_bus-&gt;&gt;Sensor: ready_sensor = true
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)</code></pre>
<h3 id="sensor">Sensor</h3>
<p>The context, is then passed to the sensor, which wakes up and executes the write request. Inside the sensor, the size of the request is read and then the data is written to the sensor memory. Additionally the sensor requests a delay to the <a href="../core/">core</a> to simulate the time it takes to write the data.</p>
<p>The following code snippet shows how the sensor handles the request.</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">Sensor_mic_click_functional::sensor_logic</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enable</span><span class="p">.</span><span class="n">read</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ready</span><span class="p">.</span><span class="n">read</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// ... other code</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Write data to the register memory</span>
<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">req_size_val</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">                    </span><span class="n">register_memory</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">add</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">req_core_val_addr</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

<span class="w">                </span><span class="c1">// Request delay for the write operation</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">start_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc_time_stamp</span><span class="p">().</span><span class="n">to_double</span><span class="p">();</span><span class="w"> </span><span class="c1">///&lt; Get the current simulation time</span>
<span class="w">                </span><span class="n">core</span><span class="o">-&gt;</span><span class="n">request_delay</span><span class="p">(</span><span class="n">start_time</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="n">SIM_RESOLUTION</span><span class="p">);</span><span class="w"> </span>
<span class="w">            </span><span class="p">}</span>
</code></pre></div>
<p>When the sensor has completed the write request, it sets the <code>go</code> signal to true, to indicate that the request has been completed. Additionally, it also set the power consumption of the write state, that is used by the power instance of the sensor to calculate the power consumption. Finally, the sensor stops on a <code>wait()</code> statement, waiting for a change on the <code>ready</code> signal. </p>
<p>This change in the <code>go</code> signal, which was previously set to false, wakes up the <a href="../functional-bus/">functional bus</a>. </p>
<pre class="mermaid"><code>sequenceDiagram
    participant Core
    participant Functional_bus
    participant Sensor

    Sensor-&gt;&gt;Sensor: wait(ready_sensor)
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)
    Core-&gt;&gt;Functional_bus: request_address = address
    Core-&gt;&gt;Functional_bus: request_data = data
    Core-&gt;&gt;Functional_bus: request_size = size
    Core-&gt;&gt;Functional_bus: functional_bus_flag = false
    Core-&gt;&gt;Functional_bus: request_ready = true
    Core-&gt;&gt;Core: wait(request_go)

    Note over Functional_bus: Functional bus wakes up
    Functional_bus-&gt;&gt;Sensor: address_out_sensor = address
    Functional_bus-&gt;&gt;Sensor: data_out_sensor = data
    Functional_bus-&gt;&gt;Sensor: size_out_sensor = size
    Functional_bus-&gt;&gt;Sensor: flag_out_sensor = false
    Functional_bus-&gt;&gt;Sensor: ready_sensor = true 
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)

    Note over Sensor: Sensor wakes up
    Note over Sensor: Write data to the register memory
    Note over Sensor: Request delay for the write operation
    Sensor-&gt;&gt;Functional_bus: go = true
    Sensor-&gt;&gt; Functional_bus: data_out = pointer to the data
    Sensor-&gt;&gt;Sensor: wait(ready)    
</code></pre>
<h3 id="functional-bus_1">Functional Bus</h3>
<p>The <a href="../functional-bus/">functional bus</a> wakes up, sets the <code>request_go</code> signal to true, to indicate that the request has been completed. Additionally it sets the <code>ready_sensor</code> signal to false, to indicate that the sensor has completed the request and the <code>request_value</code> to the output of the sensors. Finally, the <a href="../functional-bus/">functional bus</a> stops on a <code>wait()</code> statement, waiting for both the <code>request_go</code> and the <code>go_sensors</code> signals to become false. </p>
<p>The following code snippet shows where the <a href="../functional-bus/">functional bus</a> stops on the <code>wait()</code> statement.</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">Functional_bus::processing_data</span><span class="p">(){</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">){</span>
<span class="w">        </span><span class="c1">// ... other code</span>

<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">selected_sensor</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">){</span>
<span class="w">            </span><span class="c1">// Check if a valid sensor was selected</span>
<span class="w">            </span><span class="n">response</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// Wait until the sensor and request are no longer ready</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">go_sensors</span><span class="p">[</span><span class="n">selected_sensor</span><span class="p">].</span><span class="n">read</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">request_ready</span><span class="p">.</span><span class="n">read</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="hll"><span class="w">                </span><span class="n">wait</span><span class="p">();</span>
</span><span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="c1">// Indicate that the request processing is complete</span>
<span class="w">            </span><span class="n">request_go</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<pre class="mermaid"><code>sequenceDiagram
    participant Core
    participant Functional_bus
    participant Sensor

    Sensor-&gt;&gt;Sensor: wait(ready_sensor)
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)
    Core-&gt;&gt;Functional_bus: request_address = address
    Core-&gt;&gt;Functional_bus: request_data = data
    Core-&gt;&gt;Functional_bus: request_size = size
    Core-&gt;&gt;Functional_bus: functional_bus_flag = false
    Core-&gt;&gt;Functional_bus: request_ready = true
    Core-&gt;&gt;Core: wait(request_go)

    Note over Functional_bus: Functional bus wakes up
    Functional_bus-&gt;&gt;Sensor: address_out_sensor = address
    Functional_bus-&gt;&gt;Sensor: data_out_sensor = data
    Functional_bus-&gt;&gt;Sensor: size_out_sensor = size
    Functional_bus-&gt;&gt;Sensor: flag_out_sensor = false
    Functional_bus-&gt;&gt;Sensor: ready_sensor = true 
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)

    Note over Sensor: Sensor wakes up
    Note over Sensor: Write data to the register memory
    Note over Sensor: Request delay for the write operation
    Sensor-&gt;&gt;Functional_bus: go = true
    Sensor-&gt;&gt; Functional_bus: data_out = pointer to the data
    Sensor-&gt;&gt;Sensor: wait(ready)    

    Note over Functional_bus: Functional bus wakes up
    Functional_bus-&gt;&gt;Core: request_go = true
    Functional_bus-&gt;&gt;Core: request_value = data_out
    Functional_bus-&gt;&gt;Sensor: ready_sensor = false
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready == false, go_sensors == false)
</code></pre>
<h3 id="sensor-core">Sensor &amp; Core</h3>
<p>The context is then switched to the core and to the sensor. Thanks to a change on the <code>request_go</code> the core wakes up and sets the <code>request_ready</code> signal to false, to indicate that the request has been completed. The sensor, instead, is woke up by a change on the <code>ready</code> signal, and sets the <code>go</code> signal to false, to indicate that the request has been completed also on its side.</p>
<pre class="mermaid"><code>sequenceDiagram
    participant Core
    participant Functional_bus
    participant Sensor

    Sensor-&gt;&gt;Sensor: wait(ready_sensor)
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)
    Core-&gt;&gt;Functional_bus: request_address = address
    Core-&gt;&gt;Functional_bus: request_data = data
    Core-&gt;&gt;Functional_bus: request_size = size
    Core-&gt;&gt;Functional_bus: functional_bus_flag = false
    Core-&gt;&gt;Functional_bus: request_ready = true
    Core-&gt;&gt;Core: wait(request_go)

    Note over Functional_bus: Functional bus wakes up
    Functional_bus-&gt;&gt;Sensor: address_out_sensor = address
    Functional_bus-&gt;&gt;Sensor: data_out_sensor = data
    Functional_bus-&gt;&gt;Sensor: size_out_sensor = size
    Functional_bus-&gt;&gt;Sensor: flag_out_sensor = false
    Functional_bus-&gt;&gt;Sensor: ready_sensor = true 
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)

    Note over Sensor: Sensor wakes up
    Note over Sensor: Write data to the register memory
    Note over Sensor: Request delay for the write operation
    Sensor-&gt;&gt;Functional_bus: go = true
    Sensor-&gt;&gt; Functional_bus: data_out = pointer to the data
    Sensor-&gt;&gt;Sensor: wait(ready)    

    Note over Functional_bus: Functional bus wakes up
    Functional_bus-&gt;&gt;Core: request_go = true
    Functional_bus-&gt;&gt;Core: request_value = data_out
    Functional_bus-&gt;&gt;Sensor: ready_sensor = false
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready == false, go_sensors == false)

    Note over Core: Core wakes up
    Core-&gt;&gt;Functional_bus: request_ready = false
    Core-&gt;&gt;Core: wait(request_go)
    Note over Sensor: Sensor wakes up
    Sensor-&gt;&gt;Functional_bus: go = false
    Sensor-&gt;&gt;Sensor: wait(ready)</code></pre>
<h3 id="functional-bus-core">Functional Bus &amp; Core</h3>
<p>Finally, thanks to both the signal <code>request_ready</code> and <code>go_sensors</code> being false, the <a href="../functional-bus/">functional bus</a> wakes up and sets the <code>request_go</code> signal to false, to indicate that the request is completed. The <a href="../functional-bus/">functional bus</a> then stops on the <code>wait()</code> statement, waiting for the next request.
On the other side, the <a href="../core/">core</a> wakes up due to a change on the <code>request_go</code> signal, and exits the <code>handle_req</code> function. When a new re</p>
<pre class="mermaid"><code>sequenceDiagram
    participant Core
    participant Functional_bus
    participant Sensor

    Sensor-&gt;&gt;Sensor: wait(ready_sensor)
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)
    Core-&gt;&gt;Functional_bus: request_address = address
    Core-&gt;&gt;Functional_bus: request_data = data
    Core-&gt;&gt;Functional_bus: request_size = size
    Core-&gt;&gt;Functional_bus: functional_bus_flag = false
    Core-&gt;&gt;Functional_bus: request_ready = true
    Core-&gt;&gt;Core: wait(request_go)

    Note over Functional_bus: Functional bus wakes up
    Functional_bus-&gt;&gt;Sensor: address_out_sensor = address
    Functional_bus-&gt;&gt;Sensor: data_out_sensor = data
    Functional_bus-&gt;&gt;Sensor: size_out_sensor = size
    Functional_bus-&gt;&gt;Sensor: flag_out_sensor = false
    Functional_bus-&gt;&gt;Sensor: ready_sensor = true 
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)

    Note over Sensor: Sensor wakes up
    Note over Sensor: Write data to the register memory
    Note over Sensor: Request delay for the write operation
    Sensor-&gt;&gt;Functional_bus: go = true
    Sensor-&gt;&gt; Functional_bus: data_out = pointer to the data
    Sensor-&gt;&gt;Sensor: wait(ready)    

    Note over Functional_bus: Functional bus wakes up
    Functional_bus-&gt;&gt;Core: request_go = true
    Functional_bus-&gt;&gt;Core: request_value = data_out
    Functional_bus-&gt;&gt;Sensor: ready_sensor = false
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready == false, go_sensors == false)

    Note over Core: Core wakes up
    Core-&gt;&gt;Functional_bus: request_ready = false
    Core-&gt;&gt;Core: wait(request_go)
    Note over Sensor: Sensor wakes up
    Sensor-&gt;&gt;Functional_bus: go = false
    Sensor-&gt;&gt;Sensor: wait(ready)

    Note over Functional_bus: Functional bus wakes up
    Functional_bus-&gt;&gt;Core: request_go = false
    Functional_bus-&gt;&gt;Functional_bus: wait(request_ready, go_sensors)
    Note over Core: Core wakes up
    Note over Core: Core exits handle_req</code></pre>
<p>As you can see, the final situation of the system is the same as the initial one. The system is ready to handle a new request.</p>
<h2 id="read-request">Read Request</h2>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>